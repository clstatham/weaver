component Foo {
    a: int
    b: int
}

@startup
system Setup {
    var a = 0
    var b = 0
    loop (a < 10) && (b < 10) {
        spawn(Foo {
            a = a
            b = b
        })

        a += 1
        b += a
    }
}

@update
system Update {
    loop query [let foo: Foo] {
        print(foo.a, foo.b)
    }
}
