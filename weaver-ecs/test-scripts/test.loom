component Foo {
    a: int
    b: int
}

component Bar {
    a: int
    b: int
}

@startup
system Setup {
    spawn(Foo {
        a = 0
        b = 1
    })
    spawn(Foo {
        a = 0
        b = 2
    })
    spawn(Foo {
        a = 0
        b = 3
    })
    spawn(Foo {
        a = 0
        b = 4
    })
    spawn(Foo {
        a = 0
        b = 5
    })

    spawn(Bar {
        a = 0
        b = 1
    })

    var x = 0
    loop x < 100 {
        x = x + 1
        if x >= 50 {
            break x
        }
        print(x)
    }
}
